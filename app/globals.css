@import "tailwindcss";
/* Theme tokens (moved from @theme to :root to avoid unknown at-rule warnings) */
:root {
  color-scheme: dark;
  --color-background: #000000;
  --color-foreground: #ffffff;
  --color-muted: #101010;
  --color-subtle: #1a1a1a;
  --color-line: #2a2a2a;
  --font-articulat: "articulat-cf", system-ui, -apple-system, "Segoe UI", "Helvetica Neue", Arial, sans-serif;
  --ease-premium: cubic-bezier(0.2, 0.8, 0.2, 1);
  --container-max: 80rem; /* ~1280px */
  --container-pad: 0.5rem;  /* 8px */
  --grid-gutter: 2rem;    /* 32px */
}

/* Ensure predictable sizing across the app */
*, *::before, *::after { box-sizing: border-box; }

@keyframes wipe {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(0); }
}


html, body { 
  background-color: black; 
  color: white; 
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden; /* guard against horizontal scroll from animated tracks */
}

/* Hide the system cursor only when overlay gate enables it */
body.cursor-hidden { cursor: none; }

h1, h2 { text-transform: uppercase; }
h1 { letter-spacing: 0.08em; line-height: 1.14; }
h2 { letter-spacing: 0.06em; line-height: 1.18; }

/* Native cursor is hidden via inline style on <body> in layout.tsx to avoid !important warnings */

/* Articulat CF will come from Adobe Fonts link in _document. */
body { font-family: articulat-cf, system-ui, -apple-system, Segoe UI, Helvetica Neue, Arial, sans-serif; }

/* Uppercase utilities */
.uc { text-transform: uppercase; }
.no-uc { text-transform: none; }

/* Screen reader-only utility (in case Tailwind's sr-only isn't available) */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Hover wipe utility (inverse colour wipe) */
.wipe-link {
  position: relative;
  display: inline-block;
  overflow: hidden;
  isolation: isolate;
}
.wipe-link::before {
  content: "";
  position: absolute;
  inset: 0;
  transform: translateX(-100%);
  background: white;
  opacity: 0.08;
  z-index: -1;
  transition: transform 700ms var(--ease-premium);
}
.wipe-link:hover::before, .wipe-link:focus-visible::before {
  transform: translateX(0);
}

/* Link and button microinteractions */
/* Avoid layout-shifting hover effects; keep transitions to color/opacity only */
a, button {
  transition: color 600ms var(--ease-premium), opacity 600ms var(--ease-premium);
}
/* Remove active scaling to prevent text shift: no extra rule needed */

/* Underline slide-in hover effect (white on dark) */
/* Opt-in via .link-underline to avoid unintended usage (e.g., modals) */
.link-underline {
  text-decoration: none;
  background-image: linear-gradient(currentColor, currentColor);
  background-size: 0% 2px; /* underline thickness */
  background-position: 0 100%;
  background-repeat: no-repeat;
  transition: background-size 700ms var(--ease-premium), color 420ms var(--ease-premium), opacity 420ms var(--ease-premium);
}

/* Title-like small headings */
.text-xl.uc { letter-spacing: 0.06em; }
.link-underline:hover,
.link-underline:focus-visible {
  background-size: 100% 2px;
  color: #fff; /* ensure white on hover */
}

/* Persistent underline for active links */
.link-underline.is-active {
  background-size: 100% 2px;
}

@media (prefers-reduced-motion) {
  a, button, .link-underline {
    transition-duration: 0.01ms;
  }
}

/* Cursor will be hidden globally via body.cursor-hidden; don't force-hide on all interactive elements */

/* Accessible focus-visible ring */
*:focus-visible {
  outline: 2px solid rgba(125, 211, 252, 0.65);
  outline-offset: 3px;
}

.button-primary {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1.25rem;
  border-radius: 9999px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  text-transform: uppercase;
  transition: color 700ms var(--ease-premium), background-color 700ms var(--ease-premium);
}
.button-primary:focus {
  outline: none;
}
.button-primary:hover {
  color: black;
  background-color: white;
}
.button-primary:active { transform: scale(0.99); box-shadow: inset 0 0 0 1px rgba(0,0,0,0.12); }

/* View Transitions (guard for support) */
/* View Transitions: keep disabled to avoid parser warnings until broader support */

/* Contour backdrop: container that hosts layered SVGs for parallax */
.contour-host {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  overflow: hidden;
  background: #000;
}
.bg-gl-ready [data-bg-fallback] { opacity: 0; transition: opacity 400ms var(--ease-premium); }
[data-bg-fallback] { opacity: 1; transition: opacity 400ms var(--ease-premium); }
.contour-layer {
  position: absolute;
  inset: -10% -10% -10% -10%;
  opacity: 0.21;
  will-change: transform;
}
@media (prefers-reduced-motion) {
  .contour-layer { transform: none; }
}

/* Stacking utilities (align app-wide z-index usage) */
.z-bg { z-index: 0; }
.z-content { z-index: 10; }
.z-header { z-index: 90; }
.z-overlay { z-index: 100; }

/* Let header pass pointer events through except on interactive elements */
.header-interactive { pointer-events: none; }
.header-interactive :is(a, button, [role="button"], input, select, textarea, summary, [tabindex]) {
  pointer-events: auto;
}

/* Grid/container utilities (lightweight, non-intrusive) */
.grid-shell {
  width: 100%;
  margin-inline: 0;
  padding-inline: 1rem; /* base gutters on small screens */
}
@media (min-width: 768px) {
  .grid-shell { padding-inline: 2rem; }
}
.grid-12 { display: grid; grid-template-columns: 1fr; gap: calc(var(--grid-gutter) / 1.5); }
.grid-12 > * { min-width: 0; }
@media (min-width: 768px) {
  .grid-12 { grid-template-columns: repeat(12, minmax(0, 1fr)); gap: var(--grid-gutter); }
}

/* Content wrapper that sits inside grid-shell to provide consistent lateral rhythm */
.container-row { width: 100%; max-width: var(--container-max); margin-inline: auto; padding-inline: 1rem; }
@media (min-width: 768px) {
  .container-row { padding-inline: 2rem; }
}

/* Premium: Inversion wipe card */
.sheen-card {
  position: relative;
  border-radius: 1rem;
  border: 1px solid rgba(255,255,255,0.12);
  background: transparent;
  overflow: hidden;
  isolation: isolate;
  transition: box-shadow 700ms var(--ease-premium), border-color 700ms var(--ease-premium), transform 700ms var(--ease-premium);
}
.sheen-card::before {
  /* white wipe that inverts content beneath via difference blending */
  content: '';
  position: absolute;
  inset: 0;
  /* Standard LTR inversion wipe (solid white) */
  background: #fff;
  transform: translateX(var(--wipe-x, -101%));
  transition: transform 700ms cubic-bezier(0.22, 1, 0.36, 1);
  mix-blend-mode: difference;
  z-index: 2;
  pointer-events: none;
  will-change: transform;
}
.sheen-card.fast-wipe::before { transition-duration: 520ms; }
/* focus-in drives the wipe to rest state */
.sheen-card:focus-within::before { transform: translateX(0%); }
.sheen-card:hover,
.sheen-card:focus-within {
  border-color: rgba(255,255,255,0.25);
  box-shadow: 0 18px 50px rgba(0,0,0,0.4);
}
.sheen-card > * { position: relative; z-index: 1; }
@media (prefers-reduced-motion) {
  .sheen-card { transition: none; }
  .sheen-card::before { transition: none; }
}

/* Page transitions and element fade-ins */
@keyframes pageFadeIn { from { opacity: 0; filter: blur(8px); transform: translateY(10px); } to { opacity: 1; filter: blur(0); transform: translateY(0); } }
@keyframes fadeUp { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }

.page-fade { animation: pageFadeIn 700ms cubic-bezier(0.22, 1, 0.36, 1); }

.fade-stagger > * {
  opacity: 0;
  animation: fadeUp 1100ms cubic-bezier(0.22, 1, 0.36, 1) forwards;
}
.fade-stagger > *:nth-child(1) { animation-delay: 80ms; }
.fade-stagger > *:nth-child(2) { animation-delay: 160ms; }
.fade-stagger > *:nth-child(3) { animation-delay: 240ms; }
.fade-stagger > *:nth-child(4) { animation-delay: 320ms; }
.fade-stagger > *:nth-child(5) { animation-delay: 400ms; }
.fade-stagger > *:nth-child(6) { animation-delay: 480ms; }
.fade-stagger > *:nth-child(7) { animation-delay: 560ms; }
.fade-stagger > *:nth-child(8) { animation-delay: 640ms; }

@media (prefers-reduced-motion) {
  .page-fade, .fade-stagger > * { animation: none; filter: none; transform: none; }
}

/* Utility: show only when pointer is fine (e.g., mouse); default hidden */
.show-on-pointer-fine { display: none; }
@media (pointer: fine) {
  .show-on-pointer-fine { display: inline; }
}

/* Reusable surface utilities for consistent overlays/panels/tooltips */
.surface {
  background: rgba(0,0,0,0.85);
  border: 1px solid rgba(255,255,255,0.12);
}
.surface-opaque { background: rgba(0,0,0,1); }
.surface-90 { background: rgba(0,0,0,0.90); }
.elevate {
  box-shadow: 0 20px 40px rgba(0,0,0,0.45);
}
@supports (backdrop-filter: blur(0)) {
  .surface--sm { backdrop-filter: blur(4px); }
  .surface--md { backdrop-filter: blur(8px); }
  .surface--lg { backdrop-filter: blur(12px); }
}

/* Scoped palette inversion for sections (e.g., blog). */
/* Inverts all colors within scope, then cancels inversion on media to keep assets natural. */
.theme-invert {
  filter: invert(1) hue-rotate(180deg);
}
.theme-invert :is(img, picture, video, canvas, svg) {
  filter: invert(1) hue-rotate(180deg);
}

/* Client logo marquee (inspired by Rise spacing; tuned for our grid) */
.marquee { position: relative; width: 100%; overflow: clip; }
@supports not (overflow: clip) {
  .marquee { overflow: hidden; }
}
.marquee-track {
  display: flex;
  align-items: center;
  gap: clamp(2rem, 6vw, 6rem);
  width: max-content;
  white-space: nowrap;
  animation: marquee-linear var(--marquee-duration, 36s) linear infinite;
}
.marquee-item { flex: 0 0 auto; opacity: 0.85; }
.marquee-item svg { height: 2rem; width: auto; }
.marquee-item:hover { opacity: 1; }

@keyframes marquee-linear {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

@media (prefers-reduced-motion) {
  .marquee-track { animation: none; }
}
